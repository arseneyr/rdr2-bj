(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=function(){return new Worker(a.p+"54f75f8de3a77db941fc.worker.js")}},44:function(e,t,a){e.exports=a(64)},49:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(11),s=a.n(c),o=(a(49),a(21)),i=a(18),u=a(22),d=a(78),m=a(79),b=a(82),f=a(83),p=a(84),h=a(30),y=a(31),g=a.n(y);function v(e,t){var a=Object(u.a)({},e);return a.value+=t,a.soft&&a.value>21?(a.soft=!1,a.value-=10):!a.soft&&t===n.Ace&&a.value<=10&&(a.soft=!0,a.value+=10),a}!function(e){e[e.Ace=1]="Ace",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine",e[e.Ten=10]="Ten"}(n||(n={}));var E=Object.fromEntries(Object.values(n).filter(function(e){return"number"===typeof e}).map(function(e){return[e,!0]}));function _(e){var t={},a=!0,r=!1,l=void 0;try{for(var c,s=Object.values(n).filter(function(e){return"number"===typeof e})[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var o=c.value;v(e,o).value<=21&&(t[o]=!0)}}catch(i){r=!0,l=i}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}return t}function k(e){var t=new Map(Object.values(n).filter(function(e){return"number"===typeof e}).map(function(e){return[e,0]})),a=!0,r=!1,l=void 0;try{for(var c,s=e[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var i=c.value;t.set(i,t.get(i)+1)}}catch(u){r=!0,l=u}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}return Object.fromEntries(Array.from(t.entries()).map(function(e){var t=Object(o.a)(e,2),a=t[0],r=t[1];return[a,a===n.Ten?r<16:r<4]}))}var C,j,S=a(39),O=a(66),R=a(80),x=a(81),w=(C=Object.values(n).filter(function(e){return"number"===typeof e}).sort(function(e,t){return e-t}).slice(1),j=3,Array(Math.ceil(C.length/j)).fill(0).map(function(e,t){return t*j}).map(function(e){return C.slice(e,e+j)})),N="4px solid rgba(255,171,0, 0.2)",B=Object(d.a)({root:{display:"flex",flexDirection:"column",borderRight:N,borderBottom:N},row:{display:"flex",flex:"1 0 0"},button:{flex:"1 0 0",borderTop:N,borderLeft:N,transition:"color .1s"},icon:{fontSize:"4rem"},disabledButton:{color:"rgba(255,171,0, 0.2)"}});function H(e){var t=e.onCardClick,a=e.onBackspaceClick,n=e.onSubmitClick,c=Object(S.a)(e,["onCardClick","onBackspaceClick","onSubmitClick"]),s=B(c);return l.a.createElement("div",{className:s.root},w.map(function(e,a){return l.a.createElement("div",{className:s.row,key:a},e.map(function(e){return l.a.createElement(O.a,{className:s.button,classes:{disabled:s.disabledButton},key:e,disabled:!c.cardsEnabled[e],onClick:Object(r.useCallback)(function(){return t(e)},[t])},l.a.createElement(m.a,{variant:"h3",style:10===e?{fontSize:"2rem"}:void 0},10!==e?e:l.a.createElement("table",{style:{borderSpacing:"4px"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"10"),l.a.createElement("td",null,"J")),l.a.createElement("tr",null,l.a.createElement("td",null,"Q"),l.a.createElement("td",null,"K"))))))}))}),l.a.createElement("div",{className:s.row},l.a.createElement(O.a,{className:s.button,classes:{disabled:s.disabledButton},key:"delete",onClick:a,disabled:!c.backspaceEnabled},l.a.createElement(R.a,{className:s.icon})),l.a.createElement(O.a,{className:s.button,classes:{disabled:s.disabledButton},key:1,disabled:!c.cardsEnabled[1],onClick:Object(r.useCallback)(function(){return t(1)},[t])},l.a.createElement(m.a,{variant:"h3"},"A")),l.a.createElement(O.a,{className:s.button,classes:{disabled:s.disabledButton},key:"submit",onClick:n,disabled:!c.submitEnabled},l.a.createElement(x.a,{className:s.icon}))))}var D=Object(d.a)({entryTable:{"& td:first-child":{paddingRight:8,verticalAlign:"top"},"& td:last-child":{paddingLeft:8},"& td":{padding:0},borderSpacing:0},"@keyframes blink":{from:{backgroundColor:"transparent"},to:{backgroundColor:"transparent"},"50%":{backgroundColor:"#ffab00"}},cursor:{animation:".8s $blink ease infinite"}});function T(e){return e.map(function(e){return 1===e?"A":e}).join(" ")+" "}var A,M,L=function(e){var t=e.hand,a=e.dealer,n=e.other,r=e.active,c=D(),s=l.a.createElement("span",{className:c.cursor},"\xa0");return l.a.createElement("table",{className:c.entryTable},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Hand"),l.a.createElement("td",null,T(t),"hand"===r&&s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Dealer"),l.a.createElement("td",null,T(a),"dealer"===r&&s)),l.a.createElement("tr",null,l.a.createElement("td",null,"Other"),l.a.createElement("td",null,T(n),"other"===r&&s))))},W=Object(d.a)({root:{display:"flex",flexDirection:"column",height:"100%",color:"#ffab00",backgroundColor:"black"},entryPad:{flex:"7 0 0"},display:{flex:"3 0 0",position:"relative"},displayInner:{display:"flex",justifyContent:"space-between",font:'0.8em "Roboto Mono"',paddingLeft:8},reset:{position:"absolute",bottom:8,right:8},instructions:{margin:"8px 0px"},resultTable:{"& td:first-child":{textAlign:"end"},"& td":{padding:0},"& span":{padding:"0px 5px"},"& td:last-child > span":{whiteSpace:"pre"},borderSpacing:0,paddingLeft:16},selectedResult:{"& td:first-child > span":{borderTopLeftRadius:10,borderBottomLeftRadius:10},"& td:last-child > span":{borderTopRightRadius:10,borderBottomRightRadius:10},"& span":{backgroundColor:"#ffab00",color:"black"}},progressDiv:{width:136,height:48,paddingLeft:16,display:"flex",justifyContent:"center",alignItems:"center"}});!function(e){e[e.Start=0]="Start",e[e.Hand=1]="Hand",e[e.Dealer=2]="Dealer",e[e.RemovedCards=3]="RemovedCards",e[e.Working=4]="Working",e[e.Done=5]="Done",e[e.Hit=6]="Hit",e[e.ChooseSplit=7]="ChooseSplit"}(A||(A={})),function(e){e[e.CardButton=0]="CardButton",e[e.Backspace=1]="Backspace",e[e.Submit=2]="Submit",e[e.Reset=3]="Reset",e[e.Result=4]="Result"}(M||(M={}));var F={entry_stage:A.Start,hand:[],dealer:[],removed_cards:[],hand_value:{soft:!1,value:0},result:null,insurance:null,hit_card:[]};function I(e){return e.entry_stage===A.Hand||e.entry_stage===A.Start?e.hand:e.entry_stage===A.Dealer?e.dealer:e.entry_stage===A.RemovedCards?e.removed_cards:e.entry_stage===A.Hit?e.hit_card:null}function J(e,t){return Object(h.a)(e,function(e){var a=I(e);switch(t.type){case M.CardButton:a&&(a!==e.dealer&&a!==e.hit_card||0===a.length)&&a.push(t.payload),e.entry_stage===A.Start&&(e.entry_stage=A.Hand);break;case M.Backspace:a&&a.pop();break;case M.Submit:switch(e.entry_stage){case A.Hand:e.entry_stage=A.Dealer;break;case A.Dealer:e.entry_stage=A.RemovedCards;break;case A.RemovedCards:case A.Hit:e.entry_stage=A.Working}break;case M.Reset:return F;case M.Result:e.result=t.payload,e.result.hit&&z(e.result)===e.result.hit?e.entry_stage=A.Hit:void 0!==e.result.split?e.entry_stage=A.ChooseSplit:e.entry_stage=A.Done,e.dealer[0]===n.Ace&&void 0!==e.result.dealer_bj&&(e.result.dealer_bj>=1/3?e.insurance=!0:e.insurance=!1),e.hit_card.length>0&&(e.insurance=null,e.hand.push(e.hit_card[0]),e.hit_card=[])}e.hand_value=function(e){var t={soft:!1,value:0},a=!0,n=!1,r=void 0;try{for(var l,c=e[Symbol.iterator]();!(a=(l=c.next()).done);a=!0)t=v(t,l.value)}catch(s){n=!0,r=s}finally{try{a||null==c.return||c.return()}finally{if(n)throw r}}return t}(e.hand)})}function z(e){return delete(e=Object(u.a)({},e)).dealer_bj,Math.max.apply(Math,Object(i.a)(Object.values(e).filter(function(e){return!isNaN(e)})))}function P(e){var t=(100*e).toFixed(2);return((Math.abs(100*e)<10?"  ":Math.abs(100*e)<100?" ":"")+(e<0?"":"+")+t).padEnd(7,"0")+"%"}var $=function(){var e=W(),t=Object(r.useRef)(null),a=Object(r.useState)(null),c=Object(o.a)(a,2),s=c[0],d=c[1],h=Object(r.useReducer)(J,F),y=Object(o.a)(h,2),v=y[0],C=y[1];Object(r.useEffect)(function(){v.entry_stage===A.Start?(t.current&&t.current.terminate(),t.current=new g.a,t.current.onmessage=function(e){var t=e.data;return"progress"in t?d(t.progress):(C({type:M.Result,payload:t.ev}),d(null))}):v.entry_stage===A.Working&&(v.hit_card.length>0?t.current.postMessage({hit_card:v.hit_card[0]}):t.current.postMessage({removed_cards:v.removed_cards,hand:v.hand,dealer_card:v.dealer[0]}))},[v]);var j=I(v),S=v.entry_stage===A.Hand?v.hand.length<2:v.entry_stage===A.Dealer?v.dealer.length<1:v.entry_stage!==A.RemovedCards&&(v.entry_stage!==A.Hit||v.hit_card.length<1),O=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce(function(e,t){var a=!0,r=!1,l=void 0;try{for(var c,s=Object.values(n).filter(function(e){return"number"===typeof e})[Symbol.iterator]();!(a=(c=s.next()).done);a=!0){var o=c.value;t[o]||(e[o]=!1)}}catch(i){r=!0,l=i}finally{try{a||null==s.return||s.return()}finally{if(r)throw l}}return e},Object(u.a)({},E))}.apply(void 0,[k(v.hand.concat(v.dealer,v.removed_cards))].concat(Object(i.a)(v.entry_stage===A.Hand&&v.hand.length>=2?[{}]:[]),Object(i.a)(v.entry_stage===A.Dealer&&v.dealer.length>0?[{}]:[]),Object(i.a)(v.entry_stage===A.Hit?v.hit_card.length>0?[{}]:[_(v.hand_value)]:[]),Object(i.a)(v.entry_stage===A.Done?[{}]:[]))),R=v.entry_stage===A.Hand||v.entry_stage===A.Start?"Enter your initial hand":v.entry_stage===A.Dealer?"Enter dealer's card":v.entry_stage===A.RemovedCards?"Enter any other visible cards":v.entry_stage===A.Working?"Computing...":v.entry_stage===A.Hit?"Enter hit card":l.a.createElement(l.a.Fragment,null,"\xa0"),x=v.result&&z(v.result),w=Object(r.useCallback)(function(){return C({type:M.Reset})},[]);return console.log(v.result),l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.display},l.a.createElement(m.a,{variant:"subtitle2",align:"center",className:e.instructions},R),l.a.createElement("div",{className:e.displayInner},l.a.createElement(L,{hand:v.hand.concat(v.hit_card),dealer:v.dealer,other:v.removed_cards,active:v.entry_stage===A.Start||v.entry_stage===A.Hand||v.entry_stage===A.Hit?"hand":v.entry_stage===A.Dealer?"dealer":v.entry_stage===A.RemovedCards?"other":void 0}),v.result?l.a.createElement("table",{className:e.resultTable},l.a.createElement("tbody",null,l.a.createElement("tr",{className:x===v.result.stand?e.selectedResult:void 0},l.a.createElement("td",null,l.a.createElement("span",null,"Stand:")),l.a.createElement("td",null,l.a.createElement("span",null,P(v.result.stand)))),v.result.hit&&l.a.createElement("tr",{className:x===v.result.hit?e.selectedResult:void 0},l.a.createElement("td",null,l.a.createElement("span",null,"Hit:")),l.a.createElement("td",null,l.a.createElement("span",null,P(v.result.hit)))),v.result.double&&l.a.createElement("tr",{className:x===v.result.double?e.selectedResult:void 0},l.a.createElement("td",null,l.a.createElement("span",null,"Double:")),l.a.createElement("td",null,l.a.createElement("span",null,P(v.result.double)))),v.result.split&&l.a.createElement("tr",{className:x===v.result.split?e.selectedResult:void 0},l.a.createElement("td",null,l.a.createElement("span",null,"Split:")),l.a.createElement("td",null,l.a.createElement("span",null,P(v.result.split)))),null!==v.insurance&&l.a.createElement("tr",null,l.a.createElement("td",{colSpan:2,style:{paddingRight:5}},"".concat(v.insurance?"Take":"Skip"," insurance"))))):s?l.a.createElement("div",{className:e.progressDiv},l.a.createElement(b.a,{variant:"static",color:"inherit",value:Math.round(100*s)})):void 0),v.entry_stage!==A.Hand&&v.entry_stage!==A.Start&&l.a.createElement(f.a,{className:e.reset,color:"inherit",onClick:w},"Reset ",l.a.createElement(p.a,{style:{paddingLeft:8}}))),l.a.createElement(H,{onCardClick:Object(r.useCallback)(function(e){return C({type:M.CardButton,payload:e})},[]),cardsEnabled:O,onBackspaceClick:Object(r.useCallback)(function(){return C({type:M.Backspace})},[]),backspaceEnabled:null!==j&&j.length>0,onSubmitClick:Object(r.useCallback)(function(){return C({type:M.Submit})},[]),submitEnabled:!S,classes:{root:e.entryPad}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.cf8e1150.chunk.js.map