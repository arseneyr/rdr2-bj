(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{31:function(e,t,a){e.exports=function(){return new Worker(a.p+"e13f564e7e8545b51511.worker.js")}},44:function(e,t,a){e.exports=a(64)},49:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var r,n=a(0),l=a.n(n),i=a(11),c=a.n(i),s=(a(49),a(16)),o=a(21),d=a(78),u=a(79),m=a(82),b=a(83),f=a(84),v=a(30),p=a(31),h=a.n(p),g=a(26);function y(e,t){var a=Object(g.a)({},e);return a.value+=t,a.soft&&a.value>21?(a.soft=!1,a.value-=10):!a.soft&&t===r.Ace&&a.value<=10&&(a.soft=!0,a.value+=10),a}!function(e){e[e.Ace=1]="Ace",e[e.Two=2]="Two",e[e.Three=3]="Three",e[e.Four=4]="Four",e[e.Five=5]="Five",e[e.Six=6]="Six",e[e.Seven=7]="Seven",e[e.Eight=8]="Eight",e[e.Nine=9]="Nine",e[e.Ten=10]="Ten"}(r||(r={}));var E=Object.fromEntries(Object.values(r).filter(function(e){return"number"===typeof e}).map(function(e){return[e,!0]}));function k(e){var t={},a=!0,n=!1,l=void 0;try{for(var i,c=Object.values(r).filter(function(e){return"number"===typeof e})[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var s=i.value;y(e,s).value<=21&&(t[s]=!0)}}catch(o){n=!0,l=o}finally{try{a||null==c.return||c.return()}finally{if(n)throw l}}return t}function _(e){var t=new Map(Object.values(r).filter(function(e){return"number"===typeof e}).map(function(e){return[e,0]})),a=!0,n=!1,l=void 0;try{for(var i,c=e[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var s=i.value;t.set(s,t.get(s)+1)}}catch(d){n=!0,l=d}finally{try{a||null==c.return||c.return()}finally{if(n)throw l}}return Object.fromEntries(Array.from(t.entries()).map(function(e){var t=Object(o.a)(e,2),a=t[0],n=t[1];return[a,a===r.Ten?n<16:n<4]}))}function C(e){return Math.max.apply(Math,Object(s.a)(Object.values(e).filter(function(e){return!isNaN(e)})))}var x,R,j=a(39),S=a(66),N=a(80),O=a(81),w=(x=Object.values(r).filter(function(e){return"number"===typeof e}).sort(function(e,t){return e-t}).slice(0,9),R=3,Array(Math.ceil(x.length/R)).fill(0).map(function(e,t){return t*R}).map(function(e){return x.slice(e,e+R)})),D="4px solid rgba(255,171,0, 0.2)",B=Object(d.a)({root:{display:"flex",flexDirection:"column",borderRight:D,borderBottom:D},row:{display:"flex",flex:"1 0 0"},button:{flex:"1 0 0",borderTop:D,borderLeft:D,transition:"color .1s"},icon:{fontSize:"4rem"},disabledButton:{color:"rgba(255,171,0, 0.2)"}});function H(e){var t=e.onCardClick,a=e.onBackspaceClick,r=e.onSubmitClick,i=Object(j.a)(e,["onCardClick","onBackspaceClick","onSubmitClick"]),c=B(i);return l.a.createElement("div",{className:c.root},w.map(function(e,a){return l.a.createElement("div",{className:c.row,key:a},e.map(function(e){return l.a.createElement(S.a,{className:c.button,classes:{disabled:c.disabledButton},key:e,disabled:!i.cardsEnabled[e],onClick:Object(n.useCallback)(function(){return t(e)},[t])},l.a.createElement(u.a,{variant:"h3"},1===e?"A":e))}))}),l.a.createElement("div",{className:c.row},l.a.createElement(S.a,{className:c.button,classes:{disabled:c.disabledButton},key:"delete",onClick:a,disabled:!i.backspaceEnabled},l.a.createElement(N.a,{className:c.icon})),l.a.createElement(S.a,{className:c.button,classes:{disabled:c.disabledButton},key:10,disabled:!i.cardsEnabled[10],onClick:Object(n.useCallback)(function(){return t(10)},[t])},l.a.createElement(u.a,{variant:"h3",style:{fontSize:"2rem"}},l.a.createElement("table",{style:{borderSpacing:"4px"}},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,"10"),l.a.createElement("td",null,"J")),l.a.createElement("tr",null,l.a.createElement("td",null,"Q"),l.a.createElement("td",null,"K")))))),l.a.createElement(S.a,{className:c.button,classes:{disabled:c.disabledButton},key:"submit",onClick:r,disabled:!i.submitEnabled},l.a.createElement(O.a,{className:c.icon}))))}var T=Object(d.a)({root:{display:"flex"},labelContainer:{display:"flex",flexDirection:"column",marginRight:8},cardContainer:{display:"flex",flexDirection:"column","& > *":{minWidth:0,wordBreak:"break-word"}},"@keyframes blink":{from:{backgroundColor:"transparent"},to:{backgroundColor:"transparent"},"50%":{backgroundColor:"#ffab00"}},cursor:{animation:".8s $blink ease infinite"}});function A(e){return e.map(function(e){return 1===e?"A":e}).join(" ")+" "}var L=function(e){var t=e.hand,a=e.dealer,r=e.other,n=e.active,i=T(),c=l.a.createElement("span",{className:i.cursor},"\xa0");return l.a.createElement("div",{className:i.root},l.a.createElement("div",{className:i.labelContainer},l.a.createElement("div",null,"Hand"),l.a.createElement("div",null,"Dealer"),l.a.createElement("div",null,"Other")),l.a.createElement("div",{className:i.cardContainer},l.a.createElement("div",null,A(t),"hand"===n&&c),l.a.createElement("div",null,A(a),"dealer"===n&&c),l.a.createElement("div",null,A(r),"other"===n&&c)))},M=Object(d.a)({root:{display:"flex",flexDirection:"column",alignItems:"flex-end",margin:"0px 8px",flex:"1 0 auto"},results:{display:"flex","& > :first-child":{alignItems:"flex-end","& > *":{borderRight:"4px solid transparent",paddingLeft:8},"& > $selected":{borderTopLeftRadius:10,borderBottomLeftRadius:10}},"& > :last-child":{textAlign:"left",whiteSpace:"pre","& > *":{paddingRight:8},"& > $selected":{borderTopRightRadius:10,borderBottomRightRadius:10}}},verticalContainer:{display:"flex",flexDirection:"column"},selected:{backgroundColor:"#ffab00",color:"black"},insuranceDiv:{paddingRight:8}});function W(e){var t=(100*e).toFixed(2);return((Math.abs(100*e)<10?"  ":Math.abs(100*e)<100?" ":"")+(e<0?"":"+")+t).padEnd(7,"0")+"%"}function F(e){var t=e.result,a=e.insurance,r=M(),n=t&&C(t);return l.a.createElement("div",{className:r.root},t&&l.a.createElement("div",{className:r.results},l.a.createElement("div",{className:r.verticalContainer},l.a.createElement("div",{className:n===t.stand?r.selected:void 0},"Stand:"),t.hit&&l.a.createElement("div",{className:n===t.hit?r.selected:void 0},"Hit:"),t.double&&l.a.createElement("div",{className:n===t.double?r.selected:void 0},"Double:"),t.split&&l.a.createElement("div",{className:n===t.split?r.selected:void 0},"Split:")),l.a.createElement("div",{className:r.verticalContainer},l.a.createElement("div",{className:n===t.stand?r.selected:void 0},W(t.stand)),t.hit&&l.a.createElement("div",{className:n===t.hit?r.selected:void 0},W(t.hit)),t.double&&l.a.createElement("div",{className:n===t.double?r.selected:void 0},W(t.double)),t.split&&l.a.createElement("div",{className:n===t.split?r.selected:void 0},W(t.split)))),null!==a&&l.a.createElement("div",{className:r.insuranceDiv},"".concat(a?"Take":"Skip"," insurance")))}var I,$,J=Object(d.a)({root:{display:"flex",flexDirection:"column",height:"100%",color:"#ffab00",backgroundColor:"black"},entryPad:{flex:"7 0 0"},display:{flex:"3 0 0",position:"relative"},displayInner:{display:"flex",justifyContent:"space-between",font:'0.8em "Roboto Mono"',paddingLeft:8},reset:{position:"absolute",bottom:8,right:8},instructions:{margin:"8px 0px"},resultTable:{flex:"1 0 auto","& td:first-child":{textAlign:"end"},"& td":{padding:0},"& span":{padding:"0px 5px"},"& td:last-child > span":{whiteSpace:"pre"},borderSpacing:0,paddingLeft:16},selectedResult:{"& td:first-child > span":{borderTopLeftRadius:10,borderBottomLeftRadius:10},"& td:last-child > span":{borderTopRightRadius:10,borderBottomRightRadius:10},"& span":{backgroundColor:"#ffab00",color:"black"}},progressDiv:{width:136,height:48,paddingLeft:16,display:"flex",justifyContent:"center",alignItems:"center"}});!function(e){e[e.Start=0]="Start",e[e.Hand=1]="Hand",e[e.Dealer=2]="Dealer",e[e.RemovedCards=3]="RemovedCards",e[e.Working=4]="Working",e[e.Done=5]="Done",e[e.Hit=6]="Hit",e[e.ChooseSplit=7]="ChooseSplit"}(I||(I={})),function(e){e[e.CardButton=0]="CardButton",e[e.Backspace=1]="Backspace",e[e.Submit=2]="Submit",e[e.Reset=3]="Reset",e[e.Result=4]="Result"}($||($={}));var z={entry_stage:I.Start,hand:[],dealer:[],removed_cards:[],hand_value:{soft:!1,value:0},result:null,insurance:null,hit_card:[]};function P(e){return e.entry_stage===I.Hand||e.entry_stage===I.Start?e.hand:e.entry_stage===I.Dealer?e.dealer:e.entry_stage===I.RemovedCards?e.removed_cards:e.entry_stage===I.Hit?e.hit_card:null}function K(e,t){return Object(v.a)(e,function(e){var a,n=P(e);switch(t.type){case $.CardButton:n&&(n!==e.dealer&&n!==e.hit_card||0===n.length)&&n.push(t.payload),e.entry_stage===I.Start&&(e.entry_stage=I.Hand);break;case $.Backspace:n&&n.pop();break;case $.Submit:switch(e.entry_stage){case I.Hand:e.entry_stage=I.Dealer;break;case I.Dealer:e.entry_stage=I.RemovedCards;break;case I.RemovedCards:case I.Hit:e.entry_stage=I.Working}break;case $.Reset:return z;case $.Result:e.result=t.payload,e.result.hit&&C(e.result)===e.result.hit?e.entry_stage=I.Hit:void 0!==e.result.split?e.entry_stage=I.ChooseSplit:e.entry_stage=I.Done,e.hit_card.length>0&&(e.insurance=null,e.hand.push(e.hit_card[0]),e.hit_card=[])}e.dealer[0]===r.Ace&&e.entry_stage===I.RemovedCards&&(e.insurance=(16-(a=e.hand.concat(e.dealer,e.removed_cards)).reduce(function(e,t){return t===r.Ten?e+1:e},0))/(52-a.length)>=1/3),e.hand_value=function(e){var t={soft:!1,value:0},a=!0,r=!1,n=void 0;try{for(var l,i=e[Symbol.iterator]();!(a=(l=i.next()).done);a=!0)t=y(t,l.value)}catch(c){r=!0,n=c}finally{try{a||null==i.return||i.return()}finally{if(r)throw n}}return t}(e.hand)})}var Q=function(){var e=J(),t=Object(n.useRef)(null),a=Object(n.useState)(null),i=Object(o.a)(a,2),c=i[0],d=i[1],v=Object(n.useReducer)(K,z),p=Object(o.a)(v,2),y=p[0],x=p[1];Object(n.useEffect)(function(){y.entry_stage===I.Start?(t.current&&t.current.terminate(),t.current=new h.a,t.current.onmessage=function(e){var t=e.data;return"progress"in t?d(t.progress):(x({type:$.Result,payload:t.ev}),d(null))}):y.entry_stage===I.Working&&(y.hit_card.length>0?t.current.postMessage({hit_card:y.hit_card[0]}):t.current.postMessage({removed_cards:y.removed_cards,hand:y.hand,dealer_card:y.dealer[0]}))},[y]);var R=P(y),j=y.entry_stage===I.Hand?y.hand.length<2:y.entry_stage===I.Dealer?y.dealer.length<1:y.entry_stage!==I.RemovedCards&&(y.entry_stage!==I.Hit||y.hit_card.length<1),S=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.reduce(function(e,t){var a=!0,n=!1,l=void 0;try{for(var i,c=Object.values(r).filter(function(e){return"number"===typeof e})[Symbol.iterator]();!(a=(i=c.next()).done);a=!0){var s=i.value;t[s]||(e[s]=!1)}}catch(o){n=!0,l=o}finally{try{a||null==c.return||c.return()}finally{if(n)throw l}}return e},Object(g.a)({},E))}.apply(void 0,[_(y.hand.concat(y.dealer,y.removed_cards))].concat(Object(s.a)(y.entry_stage===I.Hand&&y.hand.length>=2?[{}]:[]),Object(s.a)(y.entry_stage===I.Dealer&&y.dealer.length>0?[{}]:[]),Object(s.a)(y.entry_stage===I.Hit?y.hit_card.length>0?[{}]:[k(y.hand_value)]:[]),Object(s.a)(y.entry_stage===I.Done?[{}]:[]))),N=y.entry_stage===I.Hand||y.entry_stage===I.Start?"Enter your initial hand":y.entry_stage===I.Dealer?"Enter dealer's card":y.entry_stage===I.RemovedCards?"Enter any other visible cards":y.entry_stage===I.Working?"Computing...":y.entry_stage===I.Hit?"Enter hit card":l.a.createElement(l.a.Fragment,null,"\xa0"),O=(y.result&&C(y.result),Object(n.useCallback)(function(){return x({type:$.Reset})},[]));return console.log(y.result),l.a.createElement("div",{className:e.root},l.a.createElement("div",{className:e.display},l.a.createElement(u.a,{variant:"subtitle2",align:"center",className:e.instructions},N),l.a.createElement("div",{className:e.displayInner},l.a.createElement(L,{hand:y.hand.concat(y.hit_card),dealer:y.dealer,other:y.removed_cards,active:y.entry_stage===I.Start||y.entry_stage===I.Hand||y.entry_stage===I.Hit?"hand":y.entry_stage===I.Dealer?"dealer":y.entry_stage===I.RemovedCards?"other":void 0}),c?l.a.createElement("div",{className:e.progressDiv},l.a.createElement(m.a,{variant:"static",color:"inherit",value:Math.round(100*c)})):l.a.createElement(F,{result:y.result,insurance:y.insurance})),y.entry_stage!==I.Hand&&y.entry_stage!==I.Start&&l.a.createElement(b.a,{className:e.reset,color:"inherit",onClick:O},"Reset ",l.a.createElement(f.a,{style:{paddingLeft:8}}))),l.a.createElement(H,{onCardClick:Object(n.useCallback)(function(e){return x({type:$.CardButton,payload:e})},[]),cardsEnabled:S,onBackspaceClick:Object(n.useCallback)(function(){return x({type:$.Backspace})},[]),backspaceEnabled:null!==R&&R.length>0,onSubmitClick:Object(n.useCallback)(function(){return x({type:$.Submit})},[]),submitEnabled:!j,classes:{root:e.entryPad}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.bf2dd46e.chunk.js.map